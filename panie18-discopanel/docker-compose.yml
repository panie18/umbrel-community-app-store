version: "3.7"

services:
  app_proxy:
    environment:
      APP_HOST: discopanel_server
      APP_PORT: 8080
      PROXY_AUTH_ADD: "false"

  discopanel_server:
    image: nickheyer/discopanel:latest
    restart: unless-stopped
    environment:
      - DISCOPANEL_DATA_DIR=/app/data
      - DISCOPANEL_HOST_DATA_PATH=${APP_DATA_DIR}/data
      - TZ=UTC
    volumes:
      - ${APP_DATA_DIR}/data:/app/data
      - ${APP_DATA_DIR}/backups:/app/backups
      - ${APP_DATA_DIR}/tmp:/app/tmp
      - /var/run/docker.sock:/var/run/docker.sock
      # Konfiguration optional:
      # - ${APP_DATA_DIR}/config.yaml:/app/config.yaml:ro
